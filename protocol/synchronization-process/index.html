<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-protocol/synchronization-process" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Synchronization Process | rac-delta docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://raccreative.github.io/rac-delta-docs/img/rac-delta-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://raccreative.github.io/rac-delta-docs/img/rac-delta-social-card.jpg"><meta data-rh="true" property="og:url" content="https://raccreative.github.io/rac-delta-docs/protocol/synchronization-process"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Synchronization Process | rac-delta docs"><meta data-rh="true" name="description" content="In order to synchronize files for upload or download, the protocol describes how it should be done for a better workflow."><meta data-rh="true" property="og:description" content="In order to synchronize files for upload or download, the protocol describes how it should be done for a better workflow."><link data-rh="true" rel="icon" href="/rac-delta-docs/img/rac-delta-logo.svg"><link data-rh="true" rel="canonical" href="https://raccreative.github.io/rac-delta-docs/protocol/synchronization-process"><link data-rh="true" rel="alternate" href="https://raccreative.github.io/rac-delta-docs/protocol/synchronization-process" hreflang="en"><link data-rh="true" rel="alternate" href="https://raccreative.github.io/rac-delta-docs/es/protocol/synchronization-process" hreflang="es"><link data-rh="true" rel="alternate" href="https://raccreative.github.io/rac-delta-docs/protocol/synchronization-process" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TODO-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Protocol","item":"https://raccreative.github.io/rac-delta-docs/category/protocol"},{"@type":"ListItem","position":2,"name":"Synchronization Process","item":"https://raccreative.github.io/rac-delta-docs/protocol/synchronization-process"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="rac-delta docs" href="/rac-delta-docs/opensearch.xml"><link rel="stylesheet" href="/rac-delta-docs/assets/css/styles.0a92eea1.css">
<script src="/rac-delta-docs/assets/js/runtime~main.5bdc0344.js" defer="defer"></script>
<script src="/rac-delta-docs/assets/js/main.b3930994.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/rac-delta-docs/img/rac-delta-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rac-delta-docs/"><div class="navbar__logo"><img src="/rac-delta-docs/img/rac-delta-logo.svg" alt="Rac-delta logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rac-delta-docs/img/rac-delta-logo.svg" alt="Rac-delta logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">RAC-DELTA</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rac-delta-docs/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/rac-delta-docs/protocol/synchronization-process" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/rac-delta-docs/es/protocol/synchronization-process" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li></ul></div><a href="https://github.com/raccreative/rac-delta-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rac-delta-docs/"><span title="Intro" class="linkLabel_WmDU">Intro</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rac-delta-docs/getting-started"><span title="Getting started" class="linkLabel_WmDU">Getting started</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/rac-delta-docs/category/protocol"><span title="Protocol" class="categoryLinkLabel_W154">Protocol</span></a><button aria-label="Collapse sidebar category &#x27;Protocol&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rac-delta-docs/protocol/storage-structure"><span title="Storage Structure" class="linkLabel_WmDU">Storage Structure</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rac-delta-docs/protocol/rd-index.json"><span title="rd-index.json" class="linkLabel_WmDU">rd-index.json</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rac-delta-docs/protocol/synchronization-process"><span title="Synchronization Process" class="linkLabel_WmDU">Synchronization Process</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rac-delta-docs/protocol/security"><span title="Security" class="linkLabel_WmDU">Security</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rac-delta-docs/protocol/versioning"><span title="Versioning" class="linkLabel_WmDU">Versioning</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/rac-delta-docs/category/usage"><span title="Usage" class="categoryLinkLabel_W154">Usage</span></a><button aria-label="Expand sidebar category &#x27;Usage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/rac-delta-docs/category/core"><span title="Core" class="categoryLinkLabel_W154">Core</span></a><button aria-label="Expand sidebar category &#x27;Core&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/rac-delta-docs/category/reference"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rac-delta-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/rac-delta-docs/category/protocol"><span>Protocol</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Synchronization Process</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Synchronization Process</h1></header>
<p>In order to synchronize files for upload or download, the protocol describes how it should be done for a better workflow.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="upload">Upload<a href="#upload" class="hash-link" aria-label="Direct link to Upload" title="Direct link to Upload" translate="no">​</a></h2>
<p>The steps to sync for upload using rac-delta are redacted here:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-generate-local-rd-index">1. Generate local rd-index<a href="#1-generate-local-rd-index" class="hash-link" aria-label="Direct link to 1. Generate local rd-index" title="Direct link to 1. Generate local rd-index" translate="no">​</a></h3>
<p>First of all, we should generate the local index of the directory we want to upload and sync with a remote storage. This process can be done using an own delta-service (see core), or using available SDKs delta-service or upload pipeline.</p>
<p>To generate a local rd-index.json simply iterate your directory using file-system and slice files using a chunk size (recommended 1MB), then hash each chunk and create
the <a class="" href="/rac-delta-docs/protocol/rd-index.json">rd-index.json</a> file.</p>
<p>The recommended hashing algorithm for rac-delta is Blake3.</p>
<p>We also recommend generating the rd-index.json under concurrency, the rac-delta SDKs implement customizable chunk sizes and concurrency limits. In addition, the SDK also implements streaming support for rd-index generation.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-retrieve-remote-rd-index">2. Retrieve remote rd-index<a href="#2-retrieve-remote-rd-index" class="hash-link" aria-label="Direct link to 2. Retrieve remote rd-index" title="Direct link to 2. Retrieve remote rd-index" translate="no">​</a></h3>
<p>In order to compare indexes, you will need to provide a remote rd-index.json, either manually or using the storage adapter for your storage provider (S3, Azure, GCS...)</p>
<p>If no remote rd-index is provided, everything will be uploaded.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-comparing-rd-index-files">3. Comparing rd-index files<a href="#3-comparing-rd-index-files" class="hash-link" aria-label="Direct link to 3. Comparing rd-index files" title="Direct link to 3. Comparing rd-index files" translate="no">​</a></h3>
<p>Comparing both local rd-index with remote rd-index will result in a Delta Plan, an object that will look like:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DeltaPlan </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  newAndModifiedFiles</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> FileEntry</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  deletedFiles</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  missingChunks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ChunkEntry</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  obsoleteChunks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ChunkEntry</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li class=""><strong>newAndModifiedFiles</strong>: List of files that are new or have been modified, each file is an object that includes the relative path of the file, its hash and a list of its chunks.</li>
<li class=""><strong>deletedFiles</strong>: List of the relative paths of files that no longer exists on the target directory and will be deleted.</li>
<li class=""><strong>missingChunks</strong>: List of chunks that are new and will be uploaded or downloaded, it includes the parent file and its hash.</li>
<li class=""><strong>obsoleteChunks</strong>: List of chunks that no longer are part of existing files. Normally, these chunks are already replaced with new chunks, but they should be verified to avoid file corruption.</li>
</ul>
<p>With this information, you are ready to go to upload new chunks.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-upload-new-chunks">4. Upload new chunks<a href="#4-upload-new-chunks" class="hash-link" aria-label="Direct link to 4. Upload new chunks" title="Direct link to 4. Upload new chunks" translate="no">​</a></h3>
<p>Now simply upload the chunks using the Delta Plan information, this step will be usually done using your preferred storage adapter for your storage (S3, Azure, SSH...).</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-cleaning-remote-obsolete-chunks-and-files">5. Cleaning remote obsolete chunks and files<a href="#5-cleaning-remote-obsolete-chunks-and-files" class="hash-link" aria-label="Direct link to 5. Cleaning remote obsolete chunks and files" title="Direct link to 5. Cleaning remote obsolete chunks and files" translate="no">​</a></h3>
<p>After uploading chunks, you must ensure that obsolete files and chunks are deleted from the remote directory, usually using your storage adapter.</p>
<p><strong>Note:</strong> Some chunks could be used in different files, so it is important not to mark them as obsolete if they are used in different files, as storage should only save chunks with deduplication.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-upload-the-new-rd-indexjson">6. Upload the new rd-index.json<a href="#6-upload-the-new-rd-indexjson" class="hash-link" aria-label="Direct link to 6. Upload the new rd-index.json" title="Direct link to 6. Upload the new rd-index.json" translate="no">​</a></h3>
<p>After everything is done, the last step is uploading the new generated rd-index.json to the remote directory, so the index is updated for future operations.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="download">Download<a href="#download" class="hash-link" aria-label="Direct link to Download" title="Direct link to Download" translate="no">​</a></h2>
<p>The steps to sync for download using rac-delta are redacted here:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-local-rd-indexjson">1. Local rd-index.json<a href="#1-local-rd-indexjson" class="hash-link" aria-label="Direct link to 1. Local rd-index.json" title="Direct link to 1. Local rd-index.json" translate="no">​</a></h3>
<p>For downloads, you can generate a new rd-index.json from your directory, or provide an existing one. rd-index.json will be left inside the directory after the download, so if nothing was changed, you can use it, however, it is recommended to generate a new one to ensure everything is up to date.</p>
<p>If no local rd-index.json is provided, everything will be downloaded.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-remote-rd-indexjson">2. Remote rd-index.json<a href="#2-remote-rd-indexjson" class="hash-link" aria-label="Direct link to 2. Remote rd-index.json" title="Direct link to 2. Remote rd-index.json" translate="no">​</a></h3>
<p>A remote rd-index.json must be provided, as it is the source of the chunks to download. You can provide it manually or download it using your storage adapter.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-comparing-indexes">3. Comparing indexes<a href="#3-comparing-indexes" class="hash-link" aria-label="Direct link to 3. Comparing indexes" title="Direct link to 3. Comparing indexes" translate="no">​</a></h3>
<p>Compare the two rd-index.json to generate a Delta Plan, see <a href="#3-comparing-rd-index-files" class="">Comparing rd-index files</a> above.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-downloading-chunks-and-reconstructing-files">4. Downloading chunks and reconstructing files<a href="#4-downloading-chunks-and-reconstructing-files" class="hash-link" aria-label="Direct link to 4. Downloading chunks and reconstructing files" title="Direct link to 4. Downloading chunks and reconstructing files" translate="no">​</a></h3>
<p>The protocol does not force a method for downloading and reconstructing, but we have 3 recommended strategies that are implemented on the available SDKs.</p>
<ul>
<li class=""><strong>Download all chunks first to memory</strong>: This strategy will download first all chunks to memory, and will reconstruct files later. This option is better for slow network speeds and for small directories, will reconstruct faster and concurrency is recommended.</li>
<li class=""><strong>Download all chunks first to disk</strong>: This strategy is similar to the memory one, but it downloads all to disk, this option is better for low memory machines, but will require more temporal disk space.</li>
<li class=""><strong>Stream chunks and reconstruct</strong>: This strategy will reconstruct while chunks are being downloaded via streaming, this is the recommended option as won&#x27;t use memory or disk, but could lead to more band width use and could need more CPU usage.</li>
</ul>
<p>After that, we recommend that users verify the final file using the hash to make sure reconstruction has been succesful.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-cleaning-obsolete-files-or-chunks">5. Cleaning obsolete files or chunks<a href="#5-cleaning-obsolete-files-or-chunks" class="hash-link" aria-label="Direct link to 5. Cleaning obsolete files or chunks" title="Direct link to 5. Cleaning obsolete files or chunks" translate="no">​</a></h3>
<p>After new chunks have been downloaded and reconstructed, we have to make sure that obsolete files are deleted, and obsolete chunks are no longer present on our build to avoid file corruption. You can easily verify file integration with the available SDKs.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-replacing-local-rd-indexjson">6. Replacing local rd-index.json<a href="#6-replacing-local-rd-indexjson" class="hash-link" aria-label="Direct link to 6. Replacing local rd-index.json" title="Direct link to 6. Replacing local rd-index.json" translate="no">​</a></h3>
<p>The last step is saving the new rd-index.json to your local directory for future operations.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rac-delta-docs/protocol/rd-index.json"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">rd-index.json</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rac-delta-docs/protocol/security"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upload" class="table-of-contents__link toc-highlight">Upload</a><ul><li><a href="#1-generate-local-rd-index" class="table-of-contents__link toc-highlight">1. Generate local rd-index</a></li><li><a href="#2-retrieve-remote-rd-index" class="table-of-contents__link toc-highlight">2. Retrieve remote rd-index</a></li><li><a href="#3-comparing-rd-index-files" class="table-of-contents__link toc-highlight">3. Comparing rd-index files</a></li><li><a href="#4-upload-new-chunks" class="table-of-contents__link toc-highlight">4. Upload new chunks</a></li><li><a href="#5-cleaning-remote-obsolete-chunks-and-files" class="table-of-contents__link toc-highlight">5. Cleaning remote obsolete chunks and files</a></li><li><a href="#6-upload-the-new-rd-indexjson" class="table-of-contents__link toc-highlight">6. Upload the new rd-index.json</a></li></ul></li><li><a href="#download" class="table-of-contents__link toc-highlight">Download</a><ul><li><a href="#1-local-rd-indexjson" class="table-of-contents__link toc-highlight">1. Local rd-index.json</a></li><li><a href="#2-remote-rd-indexjson" class="table-of-contents__link toc-highlight">2. Remote rd-index.json</a></li><li><a href="#3-comparing-indexes" class="table-of-contents__link toc-highlight">3. Comparing indexes</a></li><li><a href="#4-downloading-chunks-and-reconstructing-files" class="table-of-contents__link toc-highlight">4. Downloading chunks and reconstructing files</a></li><li><a href="#5-cleaning-obsolete-files-or-chunks" class="table-of-contents__link toc-highlight">5. Cleaning obsolete files or chunks</a></li><li><a href="#6-replacing-local-rd-indexjson" class="table-of-contents__link toc-highlight">6. Replacing local rd-index.json</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rac-delta-docs/">Intro</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Partner</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://raccreativegames.com/en/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Raccreative Games<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/raccreative/rac-delta-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub NodeJS<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/raccreative/rac-delta-rs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Rust<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 rac-delta protocol. Released under the MIT license. Built with Docusaurus</div></div></div></footer></div>
</body>
</html>