"use strict";(globalThis.webpackChunkrac_delta_docs=globalThis.webpackChunkrac_delta_docs||[]).push([[4250],{2945:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"core/configuration","title":"Configuraci\xf3n","description":"Para poder conseguir un correcto funcionamiento de la implementaci\xf3n de rac-delta, las propiedades de configuraci\xf3n son importantes.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/core/configuration.md","sourceDirName":"core","slug":"/core/configuration","permalink":"/rac-delta-docs/es/core/configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Interfaces","permalink":"/rac-delta-docs/es/core/interfaces"},"next":{"title":"Adaptador de almacenamiento","permalink":"/rac-delta-docs/es/core/storage-adapter"}}');var r=a(4848),s=a(8453);const o={sidebar_position:3},c="Configuraci\xf3n",t={},l=[{value:"Configuraci\xf3n base",id:"configuraci\xf3n-base",level:2},{value:"Configuraci\xf3n de almacenamiento",id:"configuraci\xf3n-de-almacenamiento",level:2},{value:"Almacenamiento local",id:"almacenamiento-local",level:3},{value:"Almacenamiento SSH",id:"almacenamiento-ssh",level:2},{value:"Almacenamiento URL",id:"almacenamiento-url",level:2},{value:"Almacenamiento HTTP",id:"almacenamiento-http",level:2},{value:"Google Cloud Storage",id:"google-cloud-storage",level:2},{value:"Azure Blob Storage",id:"azure-blob-storage",level:2},{value:"Almacenamiento S3",id:"almacenamiento-s3",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuraci\xf3n",children:"Configuraci\xf3n"})}),"\n",(0,r.jsx)(n.p,{children:"Para poder conseguir un correcto funcionamiento de la implementaci\xf3n de rac-delta, las propiedades de configuraci\xf3n son importantes."}),"\n",(0,r.jsx)(n.p,{children:"La configuraci\xf3n se usar\xe1 para la creaci\xf3n del cliente rac-delta, la comunicaci\xf3n con el almacenamiento, y la configuraci\xf3n opcional de los servicios. Esto har\xe1 que el SDK sea m\xe1s f\xe1cil de usar y m\xe1s personalizable."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTA"}),": Las interfaces aqu\xed est\xe1n escritas en TS, pero son sencillas de migrar a otro lenguaje."]}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n-base",children:"Configuraci\xf3n base"}),"\n",(0,r.jsx)(n.p,{children:"Configuraci\xf3n base m\xednima:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface RacDeltaConfig {\n  chunkSize: number;\n  maxConcurrency?: number;\n  storage: StorageConfig;\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"chunkSize"})," ser\xe1 el valor usado en todas las operaciones de rac-delta para los chunks, es importante mantener consistencia con este valor, cualquier cambio entre operaciones llevar\xe1 a errores."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"maxConcurrency"})," se usa solo como un l\xedmite de concurrencia m\xe1ximo recomendado para las operaciones como lectura, escritura o subida. Para mejor rendimiento."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"storage"}),": Configuraci\xf3n concreta de tu almacenamiento, m\xe1s informaci\xf3n abajo."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configuraci\xf3n-de-almacenamiento",children:"Configuraci\xf3n de almacenamiento"}),"\n",(0,r.jsx)(n.p,{children:"No es obligatorio implementar todos los almacenamientos, pero se recomienda ya que la filosof\xeda de rac-delta es que sea agn\xf3stico al almacenamiento, as\xed que estar preparado para cualquier backend siempre es recomendado."}),"\n",(0,r.jsx)(n.p,{children:"Aqu\xed est\xe1n nuestras interfaces de configuraci\xf3n de almacenamiento."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface BaseStorageConfig {\n  pathPrefix?: string;\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["La configuraci\xf3n base que todos los almacenamientos extender\xe1n. Incluye un ",(0,r.jsx)(n.code,{children:"pathPrefix"})," si el directorio deseado est\xe1 en una subcarpeta."]}),"\n",(0,r.jsx)(n.h3,{id:"almacenamiento-local",children:"Almacenamiento local"}),"\n",(0,r.jsx)(n.p,{children:"Perfecto para testing o para tener almacenamiento local, pero no se recomienda para casos de la vida real."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface LocalStorageConfig extends BaseStorageConfig {\n  type: 'local';\n  basePath: string;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"almacenamiento-ssh",children:"Almacenamiento SSH"}),"\n",(0,r.jsx)(n.p,{children:"Perfecto para almacenamiento en la misma red o almacenamiento privado."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface SSHStorageConfig extends BaseStorageConfig {\n  type: 'ssh';\n  host: string;\n  port?: number;\n  credentials: {\n    username: string,\n    password?: string,\n    privateKey?: string,\n  };\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"almacenamiento-url",children:"Almacenamiento URL"}),"\n",(0,r.jsx)(n.p,{children:"Perfecto para URLs firmadas."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface URLStorageConfig extends BaseStorageConfig {\n  type: 'url';\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Este tipo de almacenamiento no necesita ninguna configuraci\xf3n, pero necesita su propio tipo de StorageAdapter y su propio tipo de Pipeline, ya que los nombres de m\xe9todos son diferentes de los almacenamientos normales.\nEjemplo: ",(0,r.jsx)(n.code,{children:"uploadChunksByUrl()"})]}),"\n",(0,r.jsx)(n.p,{children:"C\xf3mo llamar a las URLs es cosa del usuario, puedes usar cualquier librer\xeda o m\xe9todos nativos para hacer llamadas HTTP."}),"\n",(0,r.jsxs)(n.p,{children:["Echa un ojo a ",(0,r.jsx)(n.a,{href:"/core/pipelines",children:"pipelines"})," y ",(0,r.jsx)(n.a,{href:"/core/storage-adapter",children:"adaptadores"})]}),"\n",(0,r.jsx)(n.h2,{id:"almacenamiento-http",children:"Almacenamiento HTTP"}),"\n",(0,r.jsx)(n.p,{children:"Perfecto para APIs personalizadas, este tipo da por hecho que tienes una API conectada a tu almacenamiento mediante endpoints como /chunks/[hash] o GET /rd-index"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface HTTPStorageConfig extends BaseStorageConfig {\n  type: 'http';\n  endpoint: string;\n  indexFilePath?: string;\n  credentials?: {\n    bearerToken?: string,\n    apiKey?: string,\n  };\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"endpoint"}),": URL base para todas las operaciones de chunks. Cada chunk se acceder\xeda como: ",(0,r.jsx)(n.code,{children:"{endpoint}/{pathPrefix?}/{chunk-hash}"})]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'endpoint: "https://ducks.com/api"\npathPrefix: "uploads"\n\n=> https://ducks.com/api/uploads/{chunk-hash}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"indexFilePath"}),": Ruta opcional (relativa a ",(0,r.jsx)(n.code,{children:"endpoint"})," y ",(0,r.jsx)(n.code,{children:"pathPrefix"}),") donde el \xedndice remoto (",(0,r.jsx)(n.code,{children:"rd-index.json"}),") se puede encontrar."]}),"\n",(0,r.jsx)(n.p,{children:"Si se omite, el adaptador buscar\xe1 autom\xe1ticamente en:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{endpoint}/{pathPrefix?}/rd-index.json\n"})}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'indexFilePath: "index"\n=> https://ducks.com/api/index\nindexFilePath: "metadata/rd-index.json"\n=> https://ducks.com/api/metadata/rd-index.json\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"credentials"}),": Credenciales opcionales usadas para las peticiones HTTP autenticadas. Soporta tanto Bearer tokens como API keys. El adaptador debe incluir estos headers."]}),"\n",(0,r.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'credentials: {\n  bearerToken: "eyJhbGciOiJIUzI1...",\n  apiKey: "my-secret-key"\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"google-cloud-storage",children:"Google Cloud Storage"}),"\n",(0,r.jsx)(n.p,{children:"Configuraci\xf3n para soporte GCS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface GCSStorageConfig extends BaseStorageConfig {\n  type: 'gcs';\n  bucket: string;\n  apiEndpoint?: string;\n  credentials: {\n    projectId: string,\n    clientEmail?: string,\n    privateKey?: string,\n  };\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"azure-blob-storage",children:"Azure Blob Storage"}),"\n",(0,r.jsx)(n.p,{children:"Configuraci\xf3n para soporte de Azure Blob:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface AzureBlobStorageConfig extends BaseStorageConfig {\n  type: 'azure';\n  container: string;\n  endpoint: string;\n  credentials: {\n    accountName?: string,\n    accountKey?: string,\n    sasToken?: string,\n  };\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"almacenamiento-s3",children:"Almacenamiento S3"}),"\n",(0,r.jsx)(n.p,{children:"Configuraci\xf3n para soporte S3:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"interface S3StorageConfig extends BaseStorageConfig {\n  type: 's3';\n  endpoint?: string;\n  region?: string;\n  bucket: string;\n  credentials: {\n    accessKeyId: string,\n    secretAccessKey: string,\n    sessionToken?: string,\n    expiration?: Date,\n  };\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>c});var i=a(6540);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);