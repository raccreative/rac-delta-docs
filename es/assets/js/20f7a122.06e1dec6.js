"use strict";(globalThis.webpackChunkrac_delta_docs=globalThis.webpackChunkrac_delta_docs||[]).push([[7594],{8453:(e,d,n)=>{n.d(d,{R:()=>l,x:()=>c});var s=n(6540);const i={},r=s.createContext(i);function l(e){const d=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:d},e.children)}},9735:(e,d,n)=>{n.r(d),n.d(d,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"reference/NodeJS/pipelines/hash-upload-pipeline","title":"HashUploadPipeline","description":"Adaptador abstracto de la pipeline de subida para acceder a chunks por hash para el flujo de subida.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/reference/NodeJS/pipelines/hash-upload-pipeline.md","sourceDirName":"reference/NodeJS/pipelines","slug":"/reference/NodeJS/pipelines/hash-upload-pipeline","permalink":"/rac-delta-docs/es/reference/NodeJS/pipelines/hash-upload-pipeline","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"HashUploadPipeline","description":"Adaptador abstracto de la pipeline de subida para acceder a chunks por hash para el flujo de subida.","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"UploadPipeline","permalink":"/rac-delta-docs/es/reference/NodeJS/pipelines/upload-pipeline"},"next":{"title":"UrlUploadPipeline","permalink":"/rac-delta-docs/es/reference/NodeJS/pipelines/url-upload-pipeline"}}');var i=n(4848),r=n(8453);const l={title:"HashUploadPipeline",description:"Adaptador abstracto de la pipeline de subida para acceder a chunks por hash para el flujo de subida.",sidebar_position:2},c="HashUploadPipeline",o={},t=[{value:"Constructor",id:"constructor",level:2},{value:"M\xe9todos",id:"m\xe9todos",level:2},{value:"Detalles de m\xe9todos",id:"detalles-de-m\xe9todos",level:2},{value:"<code>execute(directory, remoteIndex?, options?)</code>",id:"executedirectory-remoteindex-options",level:3},{value:"<code>scanDirectory(dir, ignorePatterns?)</code>",id:"scandirectorydir-ignorepatterns",level:3},{value:"<code>uploadMissingChunks(plan, baseDir, force, options?)</code>",id:"uploadmissingchunksplan-basedir-force-options",level:3},{value:"<code>uploadIndex(index)</code>",id:"uploadindexindex",level:3},{value:"<code>deleteObsoleteChunks(delta, options?)</code>",id:"deleteobsoletechunksdelta-options",level:3},{value:"Relacionado",id:"relacionado",level:2}];function a(e){const d={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.header,{children:(0,i.jsx)(d.h1,{id:"hashuploadpipeline",children:"HashUploadPipeline"})}),"\n",(0,i.jsxs)(d.p,{children:[(0,i.jsx)(d.code,{children:"HashUploadPipeline"})," es una extensi\xf3n abstracta de ",(0,i.jsx)(d.code,{children:"UploadPipeline"})," dise\xf1ada para manejar subidas usando los adaptadores de almacenamiento basados en hash (",(0,i.jsx)(d.code,{children:"HashStorageAdapter"}),").\nOrquesta el proceso de escanear directorios, computar deltas con ",(0,i.jsx)(d.code,{children:"DeltaService"}),", subir chunks nuevos, y limpiar los chunks obsoletos."]}),"\n",(0,i.jsx)(d.p,{children:"Esta pipeline es com\xfanmente usada cuando las subidas son a sistemas de almacenamiento donde los chunks se identifican por su hash."}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"constructor",children:"Constructor"}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Par\xe1metro"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"storage"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"HashStorageAdapter"})}),(0,i.jsx)(d.td,{children:"Adaptador de almacenamiento basado en hash que se usar\xe1 (se crea autom\xe1ticamente con el cliente)."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"delta"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"DeltaService"})}),(0,i.jsx)(d.td,{children:"DeltaService usado para generar \xedndices y compararlos."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"config"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"RacDeltaConfig"})}),(0,i.jsx)(d.td,{children:"Configuraci\xf3n base del cliente."})]})]})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"M\xe9todo"}),(0,i.jsx)(d.th,{children:"Devuelve"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"execute(directory, remoteIndex?, options?)"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Promise<RDIndex>"})}),(0,i.jsx)(d.td,{children:"Realiza un proceso de subida completo para un directorio."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"scanDirectory(dir, ignorePatterns?)"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Promise<RDIndex>"})}),(0,i.jsx)(d.td,{children:"Escanea el directorio recursivamente y crea un RDIndex."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"uploadMissingChunks(plan, baseDir, force, options?)"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),(0,i.jsx)(d.td,{children:"Sube solo los chunks faltantes o actualizados definidos en el DeltaPlan."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"uploadIndex(index)"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),(0,i.jsx)(d.td,{children:"Sube el archivo RDIndex al adaptador de almacenamiento."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"deleteObsoleteChunks(delta, options?)"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),(0,i.jsx)(d.td,{children:"Elimina chunks obsoletos del almacenamiento especificados en el delta plan."})]})]})]}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"detalles-de-m\xe9todos",children:"Detalles de m\xe9todos"}),"\n",(0,i.jsx)(d.h3,{id:"executedirectory-remoteindex-options",children:(0,i.jsx)(d.code,{children:"execute(directory, remoteIndex?, options?)"})}),"\n",(0,i.jsxs)(d.p,{children:["Realiza un proceso de subida completo para un directorio. Devuelve el ",(0,i.jsx)(d.code,{children:"RDIndex"})," resultante tras el proceso."]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Par\xe1metros"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Nombre"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"directory"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"Directorio que ser\xe1 comparado y subido."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"remoteIndex"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"RDIndex"})}),(0,i.jsx)(d.td,{children:"rd-index remoto opcional. Si no se proporciona ninguno, se intentar\xe1 descargar del almacenamiento."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"options"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"UploadOptions"})}),(0,i.jsxs)(d.td,{children:["Opciones para el proceso de subida. Echa un ojo a ",(0,i.jsx)(d.a,{href:"./upload-pipeline#uploadoptions",children:"UploadOptions"})]})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Devuelve"})}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"Promise<RDIndex>"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h3,{id:"scandirectorydir-ignorepatterns",children:(0,i.jsx)(d.code,{children:"scanDirectory(dir, ignorePatterns?)"})}),"\n",(0,i.jsx)(d.p,{children:"Escanea el directorio recursivamente y crea un RDIndex, ignorando los archivos que coincidan con los patrones proporcionados."}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Par\xe1metros"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Nombre"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"dir"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"Directorio a escanear."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"ignorePatterns"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string[]"})}),(0,i.jsx)(d.td,{children:"Patrones a ignorar opcionales, estos patrones se ignorar\xe1n al crear el RDIndex."})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Devuelve"})}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"Promise<RDIndex>"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h3,{id:"uploadmissingchunksplan-basedir-force-options",children:(0,i.jsx)(d.code,{children:"uploadMissingChunks(plan, baseDir, force, options?)"})}),"\n",(0,i.jsx)(d.p,{children:"Sube solo los chunks que faltan o han sido actualizados definidos en el DeltaPlan."}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Par\xe1metros"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Nombre"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"plan"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"DeltaPlan"})}),(0,i.jsx)(d.td,{children:"El plan delta indicando qu\xe9 chunks faltan."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"baseDir"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"string"})}),(0,i.jsx)(d.td,{children:"El directorio base que contiene los archivos locales."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"force"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"boolean"})}),(0,i.jsx)(d.td,{children:"Si es true, forzar\xe1 la sobreescritura de chunks en el almacenamiento."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"options"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"UploadOptions"})}),(0,i.jsxs)(d.td,{children:["Opciones para el proceso de subida. Echa un ojo a ",(0,i.jsx)(d.a,{href:"./upload-pipeline#uploadoptions",children:"UploadOptions"})]})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Devuelve"})}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h3,{id:"uploadindexindex",children:(0,i.jsx)(d.code,{children:"uploadIndex(index)"})}),"\n",(0,i.jsx)(d.p,{children:"Sube el archivo RDIndex al almacenamiento."}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Par\xe1metros"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Nombre"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsx)(d.tbody,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"index"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"RDIndex"})}),(0,i.jsx)(d.td,{children:"El objeto rd-index a subir."})]})})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Devuelve"})}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h3,{id:"deleteobsoletechunksdelta-options",children:(0,i.jsx)(d.code,{children:"deleteObsoleteChunks(delta, options?)"})}),"\n",(0,i.jsx)(d.p,{children:"Elimina los chunks obsoletos del almacenamiento especificados por el plan delta."}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Par\xe1metros"})}),"\n",(0,i.jsxs)(d.table,{children:[(0,i.jsx)(d.thead,{children:(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.th,{children:"Nombre"}),(0,i.jsx)(d.th,{children:"Tipo"}),(0,i.jsx)(d.th,{children:"Descripci\xf3n"})]})}),(0,i.jsxs)(d.tbody,{children:[(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"delta"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"DeltaPlan"})}),(0,i.jsx)(d.td,{children:"El plan delta que indica los chunks obsoletos."})]}),(0,i.jsxs)(d.tr,{children:[(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"options"})}),(0,i.jsx)(d.td,{children:(0,i.jsx)(d.code,{children:"UploadOptions"})}),(0,i.jsxs)(d.td,{children:["Opciones para el proceso de subida. Echa un ojo a ",(0,i.jsx)(d.a,{href:"./upload-pipeline#uploadoptions",children:"UploadOptions"})]})]})]})]}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.strong,{children:"Devuelve"})}),"\n",(0,i.jsx)(d.p,{children:(0,i.jsx)(d.code,{children:"Promise<void>"})}),"\n",(0,i.jsx)(d.hr,{}),"\n",(0,i.jsx)(d.h2,{id:"relacionado",children:"Relacionado"}),"\n",(0,i.jsxs)(d.ul,{children:["\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.a,{href:"/reference/NodeJS/pipelines/upload-pipeline",children:"UploadPipeline"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.a,{href:"/reference/NodeJS/pipelines/url-upload-pipeline",children:"UrlUploadPipeline"})}),"\n",(0,i.jsx)(d.li,{children:(0,i.jsx)(d.a,{href:"/reference/NodeJS/models/rdindex",children:"RDIndex"})}),"\n"]})]})}function h(e={}){const{wrapper:d}={...(0,r.R)(),...e.components};return d?(0,i.jsx)(d,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);